{% comment %} sections/split-hero.liquid â€” v2 {% endcomment %}
<section id="SplitHero" class="split-hero {% if section.settings.full_width %}split-hero--full{% endif %}">
  {% assign left_img = section.settings.left_image | image_url: width: 2400 %}
  {% assign right_img = section.settings.right_image | image_url: width: 2400 %}

  {% liquid
    assign default_light = routes.collections_url | append: '/light-humor'
    assign default_dark  = routes.collections_url | append: '/dark-humor'

    assign left_link  = section.settings.left_cta_link
    assign right_link = section.settings.right_cta_link

    if left_link == blank
      assign left_link = default_light
    endif
    if right_link == blank
      assign right_link = default_dark
    endif
  %}

  <div class="split-hero__panel split-hero__left bg-grain"
       style="--img:url('{{ left_img }}'); --pos: {{ section.settings.left_pos_x }}% {{ section.settings.left_pos_y }}%; --dim: {{ section.settings.left_dim }}%;">
    <div class="split-hero__bg"></div>
    <div class="split-hero__scrim"></div>
    <div class="split-hero__content"
         style="--ox: {{ section.settings.left_offset_x }}%; --oy: {{ section.settings.left_offset_y }}%;">
      <div class="copy-plate">
        <h2 class="split-hero__eyebrow">{{ section.settings.left_eyebrow }}</h2>
        <h1 class="split-hero__title">{{ section.settings.left_title }}</h1>
        <p class="split-hero__subtitle">{{ section.settings.left_subtitle }}</p>
        {% if section.settings.left_cta_label %}
          <a class="split-hero__btn" href="{{ left_link }}">{{ section.settings.left_cta_label }}</a>
        {% endif %}
      </div>
    </div>
  </div>

  <div class="split-hero__panel split-hero__right bg-grain"
       style="--img:url('{{ right_img }}'); --pos: {{ section.settings.right_pos_x }}% {{ section.settings.right_pos_y }}%; --dim: {{ section.settings.right_dim }}%;">
    <div class="split-hero__bg"></div>
    <div class="split-hero__scrim"></div>
    <div class="split-hero__content split-hero__content--right"
         style="--ox: {{ section.settings.right_offset_x }}%; --oy: {{ section.settings.right_offset_y }}%;">
      <div class="copy-plate copy-plate--right">
        <h2 class="split-hero__eyebrow">{{ section.settings.right_eyebrow }}</h2>
        <h1 class="split-hero__title">{{ section.settings.right_title }}</h1>
        <p class="split-hero__subtitle">{{ section.settings.right_subtitle }}</p>
        {% if section.settings.right_cta_label %}
          <a class="split-hero__btn" href="{{ right_link }}">{{ section.settings.right_cta_label }}</a>
        {% endif %}
      </div>
    </div>
  </div>
</section>

<style>
.split-hero{display:grid;grid-template-columns:1fr 1fr;gap:28px;max-width:1200px;margin:0 auto;padding:clamp(12px,3vw,28px)}
.split-hero--full{max-width:none}
.split-hero__panel{position:relative;min-height:560px;border-radius:22px;overflow:hidden;isolation:isolate}
.split-hero__panel::after{
  content:""; position:absolute; inset:0; pointer-events:none;
  background: radial-gradient(120% 100% at 50% 50%, transparent 55%, rgba(0,0,0,.28) 100%);
}
.split-hero__bg{position:absolute;inset:0;background-image:var(--img);background-size:cover;background-position:var(--pos);filter:brightness(calc((100 - var(--dim, 30))/100))}
.split-hero__scrim{position:absolute;inset:0;background:linear-gradient(120deg, rgba(0,0,0,.65), rgba(0,0,0,.28))}
.split-hero__content{position:absolute;left:clamp(18px,4vw,48px);bottom:clamp(20px,4vw,52px);transform:translate(var(--ox,0%), var(--oy,0%))}
.split-hero__content--right{left:auto;right:clamp(18px,4vw,48px)}
.copy-plate{
  max-width:520px;background:rgba(0,0,0,.42);backdrop-filter: blur(8px);
  border:1px solid rgba(255,255,255,.08);padding:16px 18px;border-radius:16px;
  box-shadow:0 10px 30px rgba(0,0,0,.35)
}
.copy-plate--right{text-align:right}
.split-hero__eyebrow{font-size:.8rem;letter-spacing:.12em;text-transform:uppercase;opacity:.9;margin:0 0 2px}
.split-hero__title{font-size:clamp(30px,4.8vw,56px);line-height:1.02;margin:0;color:#fff;text-shadow:0 10px 26px rgba(0,0,0,.5),0 0 1px rgba(0,0,0,.6)}
.split-hero__subtitle{font-size:clamp(14px,2.1vw,18px);opacity:.95;margin:6px 0 12px}
.split-hero__btn{background:#F7E06A;color:#111}
@media (max-width: 900px){
  .split-hero{grid-template-columns:1fr}
  .split-hero__panel{min-height:460px}
  .copy-plate{max-width:85%}
  .copy-plate--right{text-align:left}
  .split-hero__content--right{right:auto;left:clamp(18px,4vw,48px)}
}
</style>

{% schema %}
{
  "name":"Split hero",
  "enabled_on": { "templates": ["index"] },
  "settings":[
    { "type":"checkbox","id":"full_width","label":"Full width","default":false },

    { "type":"image_picker","id":"left_image","label":"Left image" },
    { "type":"range","id":"left_dim","label":"Left image dim (%)","min":0,"max":60,"step":5,"default":30 },
    { "type":"range","id":"left_pos_x","label":"Left image X position","min":0,"max":100,"step":1,"default":40 },
    { "type":"range","id":"left_pos_y","label":"Left image Y position","min":0,"max":100,"step":1,"default":50 },
    { "type":"range","id":"left_offset_x","label":"Left copy offset X","min":-40,"max":40,"step":2,"default":0 },
    { "type":"range","id":"left_offset_y","label":"Left copy offset Y","min":-40,"max":40,"step":2,"default":0 },
    { "type":"text","id":"left_eyebrow","label":"Left eyebrow","default":"Light Humor" },
    { "type":"text","id":"left_title","label":"Left title","default":"Sarcastic optimism for sunnier days." },
    { "type":"textarea","id":"left_subtitle","label":"Left subtitle","default":"Wear your mood without killing the vibe." },
    { "type":"url","id":"left_cta_link","label":"Left CTA link" },
    { "type":"text","id":"left_cta_label","label":"Left CTA label","default":"Shop Light" },

    { "type":"image_picker","id":"right_image","label":"Right image" },
    { "type":"range","id":"right_dim","label":"Right image dim (%)","min":0,"max":60,"step":5,"default":35 },
    { "type":"range","id":"right_pos_x","label":"Right image X position","min":0,"max":100,"step":1,"default":60 },
    { "type":"range","id":"right_pos_y","label":"Right image Y position","min":0,"max":100,"step":1,"default":50 },
    { "type":"range","id":"right_offset_x","label":"Right copy offset X","min":-40,"max":40,"step":2,"default":0 },
    { "type":"range","id":"right_offset_y","label":"Right copy offset Y","min":-40,"max":40,"step":2,"default":0 },
    { "type":"text","id":"right_eyebrow","label":"Right eyebrow","default":"Dark Humor" },
    { "type":"text","id":"right_title","label":"Right title","default":"Pitch-black jokes, midnight cotton." },
    { "type":"textarea","id":"right_subtitle","label":"Right subtitle","default":"Smirk first. Apologize never." },
    { "type":"url","id":"right_cta_link","label":"Right CTA link" },
    { "type":"text","id":"right_cta_label","label":"Right CTA label","default":"Shop Dark" }
  ],
  "presets":[{ "name":"Split hero (v2)" }]
}
{% endschema %}
