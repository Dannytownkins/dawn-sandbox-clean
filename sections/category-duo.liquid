{% comment %}
  Dual category cards for Light vs Dark humor
{% endcomment %}

<section class="category-duo hero-split" data-section-id="{{ section.id }}">
  <div class="category-duo__grid">
    {% for block in section.blocks %}
      <article
        class="category-card hero-panel category-card--{{ block.settings.theme | default: 'light' }}"
        {{ block.shopify_attributes }}
      >
        <div class="category-card__media">
          {% if block.settings.image != blank %}
            {{ block.settings.image | image_url: width: 900 | image_tag: loading: 'lazy', alt: block.settings.heading }}
          {% endif %}
        </div>
        <div class="category-card__content copy">
          <h3>{{ block.settings.heading }}</h3>
          <p>{{ block.settings.copy }}</p>
          <a class="category-card__cta cta" href="{{ block.settings.link | default: '/collections/light-humor' }}">
            {{- block.settings.cta_label -}}
          </a>
        </div>
      </article>
    {% endfor %}
  </div>
</section>

<style>
  .hero-split {
    height: 60vh;
  }
  @media (max-width: 768px) {
    .hero-split {
      height: 50vh;
    }
  }
  @media (max-width: 480px) {
    .hero-split {
      height: 44vh;
    }
  }

  .category-duo__grid {
    display: grid;
    gap: 0;
    height: 100%;
  }
  @media (min-width: 920px) {
    .category-duo__grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  .hero-panel {
    position: relative;
    overflow: hidden;
    display: grid;
    height: 100%;
  }

  .category-card__media img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .copy {
    position: absolute;
    inset: 0;
    padding: clamp(24px, 4vw, 48px);
    display: grid;
    align-content: center;
    gap: 12px;
    background: linear-gradient(130deg, rgba(0, 0, 0, 0.15) 10%, rgba(0, 0, 0, 0.1) 60%, rgba(0, 0, 0, 0.05) 100%);
    color: #fff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  }

  .category-card--light .copy {
    background: linear-gradient(
      130deg,
      rgba(255, 255, 255, 0.2) 0%,
      rgba(255, 255, 255, 0.15) 60%,
      rgba(255, 255, 255, 0.1) 100%
    );
    color: #111;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.4);
  }

  @media (min-width: 920px) {
    .copy {
      justify-content: end;
      text-align: right;
    }
  }

  @media (max-width: 919px) {
    .copy {
      justify-content: center;
      text-align: center;
    }
  }

  .cta {
    justify-self: start;
    padding: 12px 24px;
    border-radius: 12px;
    background: #eded6b;
    color: #111;
    font-weight: 700;
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .cta:hover {
    background: #d4d45a;
    transform: translateY(-1px);
  }

  @media (min-width: 920px) {
    .cta {
      justify-self: end;
    }
  }

  @media (max-width: 919px) {
    .cta {
      justify-self: center;
    }
  }
</style>

{% schema %}
{
  "name": "Light vs Dark cards",
  "blocks": [
    {
      "type": "card",
      "name": "Category card",
      "settings": [
        {
          "type": "select",
          "id": "theme",
          "label": "Theme",
          "options": [
            { "label": "Light", "value": "light" },
            { "label": "Dark", "value": "dark" }
          ],
          "default": "light"
        },
        { "type": "text", "id": "heading", "label": "Heading", "default": "Light Humor" },
        { "type": "textarea", "id": "copy", "label": "Copy", "default": "Sarcastic optimism for sunny moods." },
        { "type": "url", "id": "link", "label": "Link", "default": "/collections/light-humor" },
        { "type": "text", "id": "cta_label", "label": "CTA label", "default": "Shop Light" },
        { "type": "image_picker", "id": "image", "label": "Background image" }
      ]
    }
  ],
  "max_blocks": 2,
  "presets": [
    {
      "name": "Light vs Dark cards",
      "blocks": [
        { "type": "card", "settings": { "theme": "light" } },
        {
          "type": "card",
          "settings": {
            "theme": "dark",
            "heading": "Dark Humor",
            "cta_label": "Shop Dark",
            "link": "/collections/dark-humor"
          }
        }
      ]
    }
  ]
}
{% endschema %}
