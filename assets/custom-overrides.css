/* --- Product card sizing + media fit --- */
.card__media img,
.card__inner .media img {
  object-fit: contain !important;
}

/* 2-up grids for home featured + collections (desktop) */
@media (min-width: 990px) {
  .section-featured-collection .grid,
  .template-collection .product-grid .grid {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: 2.5rem !important;
  }
}

/* Tighter mobile spacing on product cards */
.card__content {
  padding-top: 0.75rem !important;
}
.price {
  font-weight: 600;
}

/* --- Product page layout improvements --- */
.product .grid {
  gap: 3rem;
}
.product--no-media .product__info-wrapper {
  opacity: 1 !important;
  visibility: visible !important;
  display: block !important;
}

/* --- Hero V2: force images above gradient tiles --- */
.split-hero-v2 .tile {
  position: relative;
  overflow: hidden;
}
.split-hero-v2 .tile-media {
  position: absolute;
  inset: 0;
  z-index: 1; /* image layer */
}
.split-hero-v2 .tile-media img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* switch to contain if you prefer */
}
.split-hero-v2 .tile-inner {
  position: relative;
  z-index: 2; /* text/button/card */
}

/* Optional: soften hero shadows a touch */
.split-hero-v2 .tile-inner {
  filter: drop-shadow(0 10px 18px rgba(0, 0, 0, 0.18));
}

/* ===== GLOBAL DESIGN ENHANCEMENTS ===== */

/* Motion safety */
@media (prefers-reduced-motion: no-preference) {
  :root {
    --elevate-transition: 160ms cubic-bezier(0.2, 0.8, 0.2, 1);
    --hover-transition: 180ms ease;
  }
}

/* Base link and focus treatments */
a {
  text-decoration-color: rgba(var(--color-foreground), 0.25);
  text-underline-offset: 0.2em;
}
a:hover {
  text-decoration-color: rgba(var(--color-foreground), 0.45);
}
:focus-visible {
  outline: 2px solid rgba(var(--color-foreground), 0.45);
  outline-offset: 2px;
}

/* Buttons and CTAs */
.button,
button,
[type='button'],
[type='submit'],
.shopify-payment-button__button--unbranded {
  border-radius: 12px;
  border: var(--buttons-border-width) solid rgba(var(--color-button), var(--buttons-border-opacity));
  transition: transform var(--elevate-transition), box-shadow var(--hover-transition), filter var(--hover-transition),
    background-color var(--hover-transition);
}

.button--primary,
.product-form__submit,
.shopify-payment-button__button--unbranded {
  background: linear-gradient(180deg, rgba(var(--color-button), 0.98) 0%, rgba(var(--color-button), 0.88) 100%);
  color: rgb(var(--color-button-text));
  box-shadow: 0 10px 20px rgba(var(--color-button), 0.2), 0 2px 6px rgba(0, 0, 0, 0.08);
}

.button--secondary,
.button.button--secondary,
.button--tertiary {
  background: rgba(var(--color-foreground), 0.06);
  color: rgb(var(--color-foreground));
  border-color: rgba(var(--color-foreground), 0.12);
}

.button:hover,
button:hover,
.shopify-payment-button__button--unbranded:hover {
  filter: brightness(1.03);
}
.button:active,
button:active,
.shopify-payment-button__button--unbranded:active {
  transform: translateY(1px) scale(0.995);
}

.button--full,
.cart-drawer .button {
  border-radius: 14px;
}

/* Header: sticky glass on scroll */
.header-wrapper {
  position: sticky;
  top: 0;
  z-index: 60;
  transition: background-color var(--hover-transition), backdrop-filter var(--hover-transition),
    box-shadow var(--hover-transition), border-color var(--hover-transition);
}

.header-wrapper.header--scrolled {
  background-color: color-mix(in srgb, rgb(var(--color-background)) 80%, transparent);
  backdrop-filter: saturate(1.4) blur(10px);
  border-bottom: 1px solid rgba(var(--color-foreground), 0.08);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.06);
}

.site-header .logo {
  font-weight: 800;
  letter-spacing: 0.02em;
}

/* Navigation hover clarity */
.nav-list a {
  position: relative;
  transition: color var(--hover-transition);
}
.nav-list a:after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  bottom: -4px;
  height: 2px;
  background: currentColor;
  transform: scaleX(0);
  transform-origin: left;
  transition: transform var(--hover-transition);
  opacity: 0.6;
}
.nav-list a:hover:after {
  transform: scaleX(1);
}

/* Hero and banners */
.banner,
.image-banner,
.hero,
.slideshow {
  border-radius: clamp(10px, 2vw, 16px);
  overflow: hidden;
}
.banner .banner__content,
.image-banner .banner__content {
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.25);
}
.banner .banner__media img,
.image-banner .banner__media img,
.slideshow__image img {
  transition: transform var(--elevate-transition), filter var(--hover-transition);
}
@media (hover: hover) {
  .banner:hover .banner__media img,
  .image-banner:hover .banner__media img,
  .slideshow:hover .slideshow__image img {
    transform: scale(1.02);
    filter: saturate(1.05);
  }
}
.banner .banner__content .button {
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.18);
}

/* Product cards: lift and focus */
.card--product .card__inner {
  transition: transform var(--elevate-transition), box-shadow var(--hover-transition),
    border-color var(--hover-transition);
}
@media (hover: hover) {
  .card--product .card__inner:hover {
    transform: translateY(-4px);
    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.08), 0 2px 8px rgba(0, 0, 0, 0.06);
    border-color: rgba(var(--color-foreground), 0.12);
  }
}

.card--product .price {
  font-weight: 700;
}
.card--product .card__badge {
  border-radius: 999px;
  padding: 0.3rem 0.8rem;
}

/* Quick-add visibility on hover */
@media (hover: hover) {
  .card--product .quick-add {
    opacity: 0;
    transform: translateY(6px);
    transition: opacity var(--hover-transition), transform var(--hover-transition);
  }
  .card--product:hover .quick-add {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Featured collection spacing tidy */
.section-featured-collection .grid {
  gap: clamp(1rem, 2.4vw, 2.6rem) !important;
}
.section-featured-collection .title.title--center {
  text-align: center;
  margin-bottom: 1rem;
}
.section-featured-collection__cta {
  display: flex;
  justify-content: center;
  margin-bottom: 1.2rem;
}

/* Inputs and forms */
.field__input,
input[type='text'],
input[type='email'],
input[type='search'],
textarea,
select {
  border-radius: 12px;
  border: 1px solid rgba(var(--color-foreground), 0.14);
  background: rgba(var(--color-foreground), 0.02);
  transition: border-color var(--hover-transition), box-shadow var(--hover-transition),
    background-color var(--hover-transition);
}
.field__input:focus,
input[type='text']:focus,
input[type='email']:focus,
input[type='search']:focus,
textarea:focus,
select:focus {
  border-color: rgba(var(--color-foreground), 0.28);
  box-shadow: 0 0 0 4px rgba(var(--color-foreground), 0.08);
  background: rgba(var(--color-foreground), 0.04);
}
.form__message,
.form__message--error,
.newsletter-form__message {
  color: rgba(var(--color-foreground), 0.9);
}
.field__error {
  color: #b00020;
}

/* Newsletter CTA */
.newsletter-form__button.field__button {
  border-radius: 12px;
  background: rgba(var(--color-button), 0.95);
}

/* Footer polish */
.footer {
  border-top: 1px solid rgba(var(--color-foreground), 0.08);
}
.footer .footer__content-top {
  row-gap: 2rem;
}
.footer a {
  opacity: 0.9;
}
.footer a:hover {
  opacity: 1;
}
.footer .footer-block__heading {
  font-weight: 800;
  letter-spacing: 0.015em;
}
.footer .newsletter-form__button {
  box-shadow: 0 6px 18px rgba(var(--color-button), 0.22);
}

/* Micro-interactions */
@media (prefers-reduced-motion: no-preference) {
  .button .icon,
  .button .svg-wrapper {
    transition: transform var(--elevate-transition);
  }
  .button:hover .icon,
  .button:hover .svg-wrapper {
    transform: translateX(2px);
  }
}

/* Predictive search panel clarity */
.predictive-search,
.search-modal__content {
  backdrop-filter: saturate(1.4) blur(8px);
  background-color: color-mix(in srgb, rgb(var(--color-background)) 85%, transparent);
}

/* Minors */
.badge {
  border-radius: 999px;
}
.quantity__button,
.qty__btn {
  transition: background-color var(--hover-transition), transform var(--elevate-transition);
}
.quantity__button:active,
.qty__btn:active {
  transform: translateY(1px);
}

/* Product page visual polish */
.product__info-container .price {
  font-size: clamp(1.8rem, 2.2vw, 2.4rem);
  font-weight: 800;
}
.product-form__submit {
  min-height: 4.6rem;
  font-weight: 800;
  letter-spacing: 0.04em;
}
.shopify-payment-button__button--unbranded {
  min-height: 4.6rem;
  font-weight: 700;
}
.product__column-sticky {
  backdrop-filter: saturate(1.1);
}

/* Header icon overrides (ensure not forced white) */
.header__icon--search,
.header__icon--cart {
  color: rgba(var(--color-foreground), 1) !important;
  background: transparent !important;
  border-color: rgba(var(--color-foreground), 0.18) !important;
}
